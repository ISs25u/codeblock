{
    "type": "MOD",
    "title": "CodeBlock",
    "name": "codeblock",
    "short_description": "Use lua code in Minetest to develop your creativity!",
    "long_description": "CodeBlock\n=========================\n\n![License](https://img.shields.io/badge/License-GPLv3-blue.svg)\n[![ContentDB](https://content.minetest.net/packages/giga-turbo/codeblock/shields/downloads/)](https://content.minetest.net/packages/giga-turbo/codeblock/)\n\n**CodeBlock allows creating oniric structures in Minetest using `lua` code.**\n\n**License:** GPLv3   \n**Credits:** inspired by [Gnancraft](http://gnancraft.net/), [ComputerCraft](http://www.computercraft.info/), [Visual Bots](https://content.minetest.net/packages/Nigel/vbots/), [TurtleMiner](https://content.minetest.net/packages/BirgitLachner/turtleminer/), [basic_robot](https://github.com/ac-minetest/basic_robot)\n\n\n![screenshot](screenshot.png)\n\n## Tools usage\n\n1. Create an empty (flat) world and enable `codeblock` mod ant its dependencies\n2. Enable creative mode and start the game\n3. Right click with the `drone_poser` tool on a block, choose a `lua` program to run, then left click to start the drone\n4. Right click with the `drone_setter` tool to change which program your are using, or left click with it to stop and remove the drone\n5. Write your own programs in `~/.minetest/worlds/<worldname>/codeblock_lua_files/<user>/<filename.lua>`, they will appear when right clicking with the `drone_setter`\n\n## Authlevel\n\nDrone capacity depends on the user's _authlevel_ which can be set with the `/authlevel` command (see below). The higher the authlevel the quicker is the drone and the heavier the load on the server. High authlevel should be given carefully to users. Default authlevel is 1.\n\n| authlevel     | 1 (limited) | 2 (basic) | 3 (privileged) | 4 (trusted) |                                                                      |\n|---------------|-------------|-----------|----------------|-------------|----------------------------------------------------------------------|\n| max_calls     |         1e6 |       1e7 |            1e8 |         1e9 | max number of calls (function calls and loops)                       |\n| max_volume    |         1e5 |       1e6 |            1e7 |         1e8 | max build volume (1 block = 1mÂ³)                                     |\n| max_commands  |         1e4 |       1e5 |            1e6 |         1e7 | max drone commands (movements, constructions, checkpoints, etc)      |\n| max_distance  |         150 |       300 |            700 |        1500 | max drone distance from drone spawn-point                            |\n| max_dimension |          15 |        30 |             70 |         150 | max dimension of shapes (either width or length or height or radius) |\n\n## Chat commands\n\n#### `/authlevel <playername> <1-4>`\n\nSet the authlevel of an user. Requires the `codeblock` privilege (`/grant <user> codeblock`).\n\n#### `/codeblock_examples`\n\nGenerates the examples programs in `~/.minetest/worlds/<worldname>/codeblock_lua_files/<user>/` for the user issuing the command.\n\n## Lua api\n\nThe coordinate system used is relative to the player. When the drone is placed it is oriented in the player direction, going forwards. All movements on the 3 axis are always relative to the drone direction (left-right, up-down, forward-backward).\n\nThe parameters `nr`, `nu`, `nf` denotes movements on the 3 axis, positive values going right/up/forward and negative values going left/down/backward.\n\n\n### Movements\n\n#### Moving drone\n\n```lua\nup(n)\ndown(n)\nforward(n)\nback(n)\nleft(n)\nright(n)\nmove(nr, nu, nf)\n```\n\nExample: `move(-5, 1, 3)`\n\n#### Rotating drone\n\n```lua\nturn_right()\nturn_left()\nturn(n_quarters_anti_clockwise)\n```\n\nExample: `turn(2)`\n\n\n#### Checkpoints\n\n```lua\nsave(name)\ngo(name, nr, nu, nf)\n```\n\nExample:\n```lua\nsave('place1')\nsave('place2')\ngo('place1', 10, -50, 1)\ngo('place2') -- same as go('place2', 0, 0, 0)\n```\n\n### Block types\n\nPlacing blocks and building shapes requires a `block` parameter, which can be obtained with the following tables.\n\n#### `blocks`\n\nString-indexed table with the following values:\n\n```lua\nair, stone, cobble, stonebrick, stone_block, mossycobble, desert_stone, desert_cobble, desert_stonebrick, desert_stone_block, sandstone, sandstonebrick, sandstone_block, desert_sandstone, desert_sandstone_brick, desert_sandstone_block, silver_sandstone, silver_sandstone_brick, silver_sandstone_block, obsidian, obsidianbrick, obsidian_block, dirt, dirt_with_grass, dirt_with_grass_footsteps, dirt_with_dry_grass, dirt_with_snow, dirt_with_rainforest_litter, dirt_with_coniferous_litter, dry_dirt, dry_dirt_with_dry_grass, permafrost, permafrost_with_stones, permafrost_with_moss, clay, snowblock, ice, cave_ice, tree, wood, leaves, jungletree, junglewood, jungleleaves, pine_tree, pine_wood, pine_needles, acacia_tree, acacia_wood, acacia_leaves, aspen_tree, aspen_wood, aspen_leaves, stone_with_coal, coalblock, stone_with_iron, steelblock, stone_with_copper, copperblock, stone_with_tin, tinblock, bronzeblock, stone_with_gold, goldblock, stone_with_mese, mese, stone_with_diamond, diamondblock, cactus, bush_leaves, acacia_bush_leaves, pine_bush_needles, bookshelf, glass, obsidian_glass, brick, meselamp\n```\n\nExample: `local b = blocks.glass`\n\n#### `plants`\n\nString-indexed table with the following values:\n\n```lua\nsapling, apple, junglesapling, emergent_jungle_sapling, pine_sapling, acacia_sapling, aspen_sapling, large_cactus_seedling, dry_shrub, grass_1, grass_2, grass_3, grass_4, grass_5, dry_grass_1, dry_grass_2, dry_grass_3, dry_grass_4, dry_grass_5, fern_1, fern_2, fern_3, marram_grass_1, marram_grass_2, marram_grass_3, bush_stem, bush_sapling, acacia_bush_stem, acacia_bush_sapling, pine_bush_stem, pine_bush_needles, pine_bush_sapling\n```\n\nExample: `local p = plants.large_cactus_seedling`\n\n#### `wools`\n\nString-indexed table with the following values:\n\n```lua\nwhite, grey, dark_grey, black, violet, blue, cyan, dark_green, green, yellow, brown, orange, red, magenta, pink\n```\n\nExample: `local rw = wools.red`\n\n#### `iwools`\n\nInteger-indexed table, without white, black and greys, in pseudo-rainbow order (`red`, `brown`, `orange`, `yellow`, `green`, `dark_green`, `cyan`, `blue`, `violet`, `magenta`, `pink`), with the following values:\n\n```lua\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11\n```\n\nExample: `local orange = iwools[3]`\n\n#### `color(x, m, M)`\n\nExperimental. Return a wool color corresponding to the intensity of `x` on the scale `m` to `M`. If `m` and `M` are not specified then `x` is considered to be between 1 and 11.\n \nExample: `local c = color(15, 1, 100)`\n\n### Construction\n\n#### Placing one blocks\n\n```lua\nplace(block)\nplace_relative(nr, nu, nf, block, checkpoint)\n```\n\nExample:\n```lua\nsave('place2')\nplace(blocks.stone)\nplace_relative(1, 0, 0, wools.blue, 'place2')\nplace_relative(0, 1, 0, wools.green, 'place2')\nplace_relative(0, 0, 1, wools.red, 'place2')\n```\n\n#### Shapes\n\nShapes are placed such that the drone position corresponds to the back-bottom-left of the shape (a cube will extend to the right-up-forward direction). `width` extends in the *right* direction, `height` extends in the *up* direction, `length` extends in the *forward* direction and `radius` extends in the remaining directions. `hollow` is `false` by default and default `block` is stone.\n\n```lua\ncube(width, height, length, block, hollow)\nsphere(radius, block, hollow)\ndome(radius, block, hollow)\ncylinder(height, radius, block, hollow) -- short for vertical.cylinder\nvertical.cylinder(height, radius, block, hollow)\nhorizontal.cylinder(length, radius, block, hollow)\n```\n\nExample: `cylinder(10, 4, blocks.leaves)`\n\n#### Centered shapes\n\nShapes are placed such that the drone position corresponds to the center of the shape. For the dome it corresponds to the bottom of the dome and its center for the other coordinates. `width` extends in the *left-right* direction, `height` extends in the *up-down* direction, `length` extends in the *forward-backward* direction and `radius` extends in the remaining directions.\n\n```lua\ncentered.cube(width, height, length, block, hollow)\ncentered.sphere(radius, block, hollow)\ncentered.dome(radius, block, hollow)\ncentered.cylinder(height, radius, block, hollow) -- short for centered.vertical.cylinder\ncentered.vertical.cylinder(height, radius, block, hollow)\ncentered.horizontal.cylinder(length, radius, block, hollow)\n```\n\n### Math \n\n#### Functions\n\n```lua\nrandom([m [, n]])\nround(x, num)\nround0(x)   -- short for round(x, 0) (integer rounding)\nceil(x)\nfloor(x)\ndeg(x)\nrad(x)\nexp(x)\nlog(x)\nmax(x, ...)\nmin(x, ...)\nabs(x)\npow(x, y)\nsqrt(x)\nsin(x)\nasin(x)\nsinh(x)\ncos(x)\nacos(x)\ncosh(x)\ntan(x)\natan(x)\natan2(x, y)\ntanh(x)\n```\n\n#### Values\n\n```lua\npi\ne\n```\n\n#### Vectors\n\nSee documentation [here](https://github.com/ISs25u/vector3) (replacing `vector3` by `vector`).\n\nExample:\n```lua\nlocal u = vector(1, 2, 3)\nlocal v = vector3(4, 5, 6)\nlocal w = (5 * u + u:dot(v) * u:cross(v:scale(5))):norm()\nlocal x, y, z = w:unpack()\n```\n\n### Misc \n\n```lua\nprint(message)\nerror(message)\nipairs(t)\npairs(t)\n```\n",
    "tags": [
        "education",
        "tools"
    ],
    "content_warnings": null,
    "license": "GPLv3",
    "media_license": "GPLv3",
    "repo": "https://github.com/ISs25u/codeblock",
    "website": null,
    "issue_tracker": "https://github.com/ISs25u/codeblock/issues",
    "forums": null
}